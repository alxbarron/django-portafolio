{% extends 'layout-default.html' %}

{% block content %}
    <h1 class="subtitle is-2">Blog</h1>
    {% for post in posts %}
        <div class="media">
            <div class="media-content">
                <div class="content">
                    <h3 class="title"><a href="{% url 'blog:detail' post.id %}">{{ post.title }}</a></h3>
                    <p>{{ post.body | slice:':400' }}...</p>
                    <nav class="level">
                        <div class="level-left tags">
                            <strong style="transform: translateY(-4px);">Categories:&nbsp;</strong>
                            {% for category in post.categories.all %}
                                <a href="{% url 'blog:category' category.name %}" class="tag is-rounded">
                                    {{ category.name }} </a>
                            {% endfor %}
                        </div>
                        <div class="level-right">{{ post.created_on }}</div>
                    </nav>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock  %}
